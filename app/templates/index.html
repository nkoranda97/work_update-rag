{% extends "base.html" %}
{% block title %}Email‑RAG – Search{% endblock %}
{% block content %}
<h1 class="text-2xl font-semibold mb-6">Work Update Summarizer</h1>

<div class="space-y-6">

  <div>
    <label class="font-medium text-slate-700" for="q">Question</label>
    <textarea id="q" class="w-full mt-2 p-3 border rounded-md focus:ring-2 focus:ring-blue-400" rows="4"
              placeholder="e.g. What was in Edem's last update?"></textarea>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <div>
      <label class="font-medium text-slate-700" for="senderSel">Sender</label>
      <select id="senderSel" class="w-full mt-2 p-2 border rounded-md">
        <option value="">Any sender</option>
      </select>
    </div>
    <div>
      <label class="font-medium text-slate-700" for="start">Start date</label>
      <input id="start" type="date" class="w-full mt-2 p-2 border rounded-md">
    </div>
    <div>
      <label class="font-medium text-slate-700" for="end">End date</label>
      <input id="end" type="date" class="w-full mt-2 p-2 border rounded-md">
    </div>
  </div>

  <div>
    <label class="font-medium text-slate-700 flex items-center space-x-2" for="kslider">
      <span>Top‑k results:</span>
      <span id="kval" class="font-semibold">10</span>
    </label>
    <input type="range" id="kslider" min="1" max="50" step="1" value="10"
           oninput="kval.textContent=this.value"
           class="w-full mt-2 accent-blue-600">
  </div>

  <button onclick="run()"
          class="bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-2 rounded-md transition disabled:opacity-50">
    Ask
  </button>

  <div>
    <h2 class="text-xl font-semibold mt-6 mb-3">Answer</h2>
    <div id="answer" class="whitespace-pre-line border p-4 rounded-md bg-slate-100 min-h-[3rem]"></div>
  </div>

  <div>
    <h3 class="text-lg font-semibold mt-6 mb-3">Snippets used</h3>
    <div id="snips" class="space-y-4"></div>
  </div>

</div>

<script src="/static/app.js"></script>
{% endblock %}
